(this["webpackJsonpfrontend-react"]=this["webpackJsonpfrontend-react"]||[]).push([[0],{107:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var r,n=a(2),c=a(32),o=a.n(c),s=(a(80),a(10)),i=a(11),l=a(16),d=a(15),u=a(50),j=a(17),b=a(14),h=function(e){r=e.history,console.log("history"),console.log(r),console.log(e)},p=function(e){r.push(e)},O=new(function(){function e(){Object(s.a)(this,e),this.user_token=JSON.parse(localStorage.getItem("auth"))||{}}return Object(i.a)(e,[{key:"getToken",value:function(){return this.user_token.token}},{key:"getUserId",value:function(){return this.user_token.user_id}},{key:"setUserToken",value:function(e){this.user_token=e,localStorage.setItem("auth",JSON.stringify(e))}},{key:"logout",value:function(){localStorage.removeItem("auth")}}]),e}()),_=a(52),m=a.n(_),v=a(69),x=a.n(v),g=function(e){if(O.user_token){var t=O.getToken();e.headers={"auth-token":t}}return e.baseURL="http://localhost:3000",m()(e)},f=g,y=function(e,t,a){return function(r){return r({type:N}),function(e,t,a){var r={credential:{email:e,password:t}};return g({method:"POST",url:"/api/".concat(a,"/login"),data:r}).then((function(e){return O.setUserToken(e.data.user_token),e}))}(e,t,a).then((function(e){return r({type:k,payload:e}),e})).catch((function(e){throw r({type:C,payload:{error:e}}),e}))}},N="POST_TOKEN_BEGIN",k="POST_TOKEN_SUCCESS",C="POST_TOKEN_FAIL",T="INSERT_TOKEN_SUCCESS",S="INSERT_TOKEN_FAIL",P=function(){return function(e){return e({type:F}),f({method:"GET",url:"/api/products"}).then((function(t){return e({type:M,payload:t}),t})).catch((function(t){return e({type:G,payload:{error:t}}),t}))}},E="APPLY_FILTERS_BEGIN",I="APPLY_FILTERS_SUCCESS",w="APPLY_FILTERS_FAIL",F="GET_ALL_PRODUCTS_BEGIN",M="GET_ALL_PRODUCTS_SUCCESS",G="GET_ALL_PRODUCTS_FAIL",U="GET_PRODUCT_BEGIN",B="GET_PRODUCT_SUCCESS",L="GET_PRODUCT_FAIL",A="GET_PRODUCTS_BY_CATEGORY_BEGIN",R="GET_PRODUCTS_BY_CATEGORY_SUCCESS",D="GET_PRODUCTS_BY_CATEGORY_FAIL",Y=a(31),V=a.n(Y),W=a(34),K=a.n(W),H=a(114),X=a(53),J=a(1);function $(e){var t,a=e.user_token,r=e.cart,n=0;for(t in r.items)r.items.hasOwnProperty(t)&&n++;return Object(J.jsxs)("div",{className:K.a.outbox,children:[Object(J.jsxs)("div",{className:K.a.tag,onClick:function(){return p("/bag")},children:[Object(J.jsx)("b",{children:"CART"}),r&&Object.keys(r).length>0?Object(J.jsxs)("p",{children:[Object(J.jsx)(X.a,{})," ",n]}):Object(J.jsx)(X.a,{})]}),a&&Object.keys(a).length>0?Object(J.jsx)("div",{className:K.a.loggout,children:Object(J.jsxs)(H.a,{title:"hello, ".concat(a.user_name),children:[Object(J.jsx)(H.a.Item,{onClick:O.logout,href:"/",children:"logout"}),Object(J.jsx)(H.a.Item,{href:"/profile",children:"Profile"})]})}):Object(J.jsx)("div",{className:K.a.loggout,children:Object(J.jsx)("div",{className:K.a.login,onClick:function(){return p("/login")},children:"Login"})})]})}var q=a(41),z=a.n(q);a(107);function Q(e){var t=e.categorys,a=e.getProductsByCategory,r=e.getAllProducts;return console.log("categorys"),console.log(t),Object(J.jsxs)("div",{className:z.a.outbox,children:[Object(J.jsx)("div",{className:"".concat(z.a.lists),children:Object(J.jsx)("div",{className:z.a.tag,children:Object(J.jsx)(H.a,{title:"Categorys",children:t&&t.map((function(e){return Object(J.jsx)(H.a.Item,{onClick:function(){a(e.name),p("/dashboard")},children:e.name},e._id)}))})})}),Object(J.jsx)("div",{className:z.a.tag,onClick:function(){r(),p("/dashboard")},children:"All Product"})]})}var Z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user_token,a=e.categorys,r=e.getProductsByCategory,n=e.getAllProducts,c=(e.getCartByUserId,e.cart);return Object(J.jsxs)("div",{className:V.a.outbox,children:[Object(J.jsx)("div",{className:V.a.user_header,children:Object(J.jsx)($,{user_token:t,cart:c})}),Object(J.jsxs)("div",{className:V.a.content,children:[Object(J.jsx)("div",{className:V.a.left,children:Object(J.jsx)("div",{className:V.a.logo,onClick:function(){n(),p("/dashboard")},children:"Market Place"})}),Object(J.jsx)("div",{className:V.a.mid,children:Object(J.jsx)(Q,{categorys:a,getProductsByCategory:r,getAllProducts:n})})]})]})}}]),a}(n.Component),ee="GET_CATEGORYS_BEGIN",te="GET_CATEGORYS_SUCCESS",ae="GET_CATEGORYS_FAIL",re=function(){return function(e){var t=O.getUserId();return e({type:ie}),f({method:"GET",url:"/api/users/".concat(t,"/cart")}).then((function(t){return e({type:le,payload:t}),t})).catch((function(t){return e({type:de,payload:{error:t}}),t}))}},ne=function(e,t,a){return function(r){var n=O.getUserId();return r({type:ce}),f({method:"POST",url:"/api/users/".concat(n,"/cart"),data:{userId:n,productId:e,increase:t,decrease:a}}).then((function(e){return r({type:oe,payload:e}),e})).catch((function(e){return r({type:se,payload:{error:e}}),e}))}},ce="POST_CART_BEGIN",oe="POST_CART_SUCCESS",se="POST_CART_FAIL",ie="GET_CART_BY_USERID_BEGIN",le="GET_CART_BY_USERID_SUCCESS",de="GET_CART_BY_USERID_FAIL",ue=Object(b.b)((function(e){return{user_token:e.token.user_token,categorys:e.category.categorys,cart:e.cart.cart}}),(function(e){return{getCategorys:e((function(e){return e({type:ee}),f({method:"GET",url:"/api/category"}).then((function(t){return e({type:te,payload:t}),t})).catch((function(t){return e({type:ae,payload:{error:t}}),t}))})),getProductsByCategory:function(t){return e(function(e){return function(t){return t({type:A}),f({method:"GET",url:"/api/products?category=".concat(e)}).then((function(e){return t({type:R,payload:e}),e})).catch((function(e){return t({type:D,payload:{error:e}}),e}))}}(t))},getAllProducts:function(){return e(P())},getCartByUserId:e(re())}}))(Z),je=a(115),be=a(35);function he(e){var t=e.title,a=(e.color,e.price),r=e.image;return Object(J.jsxs)(je.a,{border:"succes",className:"p-2",style:{height:"100%",minWidth:"150px"},children:[Object(J.jsx)(je.a.Img,{src:r||void 0}),Object(J.jsxs)(je.a.Body,{children:[Object(J.jsx)(je.a.Title,{children:t}),Object(J.jsx)(je.a.Subtitle,{className:"mb-2 text-muted",children:Object(J.jsx)("div",{children:a})}),Object(J.jsxs)(je.a.Text,{children:[Object(J.jsx)(be.a,{}),"  ",Object(J.jsx)(be.a,{}),"  ",Object(J.jsx)(be.a,{})," ",Object(J.jsx)(be.b,{}),"  ",Object(J.jsx)(be.b,{})]})]})]})}var pe=a(75),Oe=a(9),_e=a(54),me=a.n(_e);function ve(e){var t=e.onChange,a=e.name,r=e.category,n=e.isChecked;return Object(J.jsxs)("div",{className:me.a.outbox,children:[Object(J.jsx)("input",{type:"checkbox",id:a,name:a,onChange:function(e){return t(e,r)},checked:n}),Object(J.jsxs)("label",{htmlFor:a,children:[Object(J.jsx)("div",{className:me.a.checkbox}),a]})]})}var xe=a(19),ge=a.n(xe),fe=a(13),ye=function(e){var t="",a="",r="";for(var n in e){if("order"===n){var c,o="",s=Object(fe.a)(e[n]);try{for(s.s();!(c=s.n()).done;){o=c.value}}catch(p){s.e(p)}finally{s.f()}"ASCENDING"===o.toUpperCase()&&(a="order=price"),"DESCENDING"===o.toUpperCase()&&(a="order=-price")}if("price"===n){var i,l=[],d=Object(fe.a)(e[n]);try{for(d.s();!(i=d.n()).done;){var u=i.value;u.match(/less/i)&&(u=u.replace(/[\D]+/i,"0 - ")),u.match(/greater/i)&&(u=u.replace(/[\D]+/i,"").concat(" - 100")),l=l.concat(u.match(/[\d]+/g))}}catch(p){d.e(p)}finally{d.f()}for(var j=l.sort((function(e,t){return e-t})),b=0;b<j.length;b++)j[b]===j[b+1]&&(j.splice(b,2),b--);console.log(j);for(var h=0;h<j.length;h++)h%2===0&&(r+=r?"&range=".concat(j[h],"-").concat(j[h+1]):"range=".concat(j[h],"-").concat(j[h+1]))}}return r&&(t+=r),a&&(t&&(a="&".concat(a)),t+=a),t},Ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).handleChange=function(e,t){var a,n;a=e.target.name.toUpperCase(),n=e.target.checked,r.setState((function(e){if(n)return"order"===t?Object(Oe.a)({},t,[a]):Object(Oe.a)({},t,[].concat(Object(pe.a)(e[t]||[]),[a]));var r=e[t].filter((function(e){return e!==a}));return Object(Oe.a)({},t,r)}),(function(){return r.props.applyFilters(ye(r.state))}))},r.handleCloseTag=function(e,t){r.setState((function(a){var r=a[e].filter((function(e){return e!==t}));return Object(Oe.a)({},e,r)}),(function(){return r.props.applyFilters(ye(r.state))}))},r.clearAllFilter=function(){r.setState({order:[],price:[]},(function(){return r.props.applyFilters("")}))},r.FILTER_CONFIG={order:["Ascending","Descending"],price:["Less Than $12","$12 - $25","$25 - $30","$30 - $49","Greater Than $59"]},r.initialState={},r.state=r.initialState,r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:ge.a.outbox,children:Object(J.jsxs)("div",{className:ge.a.box,children:[Object(J.jsxs)("div",{className:ge.a.title,children:["FILTERS",Object(J.jsx)("div",{className:ge.a.title_border})]}),Object(J.jsxs)("div",{className:ge.a.content,children:[Object(J.jsxs)("div",{className:ge.a.block,children:[Object(J.jsx)("div",{className:ge.a.sub_title,children:"ORDER"}),this.FILTER_CONFIG.order.map((function(t){return Object(J.jsx)(ve,{onChange:e.handleChange,name:t,category:"order",isChecked:e.state.order&&e.state.order.includes(t.toUpperCase())||!1},t)}))]}),Object(J.jsxs)("div",{className:ge.a.block,children:[Object(J.jsx)("div",{className:ge.a.sub_title,children:"PRICE"}),this.FILTER_CONFIG.price.map((function(t){return Object(J.jsx)(ve,{onChange:e.handleChange,name:t,category:"price",isChecked:e.state.price&&e.state.price.includes(t.toUpperCase())||!1},t)}))]})]}),Object(J.jsx)("div",{className:ge.a.clear_btn,onClick:this.clearAllFilter,children:Object(J.jsx)("button",{children:"Clear All"})}),Object(J.jsx)("div",{className:ge.a.tags,children:Object.keys(this.state).map((function(t){return e.state[t]&&e.state[t].map((function(a){return Object(J.jsxs)("div",{className:ge.a.tag,children:[Object(J.jsx)("div",{className:ge.a.tag_content,children:a}),Object(J.jsx)("div",{className:ge.a.tag_close,onClick:function(){return e.handleCloseTag(t,a)},children:"x"})]},a)}))}))})]})})})}}]),a}(n.Component),ke=a(42),Ce=a.n(ke),Te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).state={},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.products||this.props.getAllProducts()}},{key:"render",value:function(){var e=this,t=this.props,a=t.products,r=t.error,n=t.applyFilters;return console.log("error"),console.log(r),Object(J.jsxs)("div",{className:Ce.a.outbox,children:[Object(J.jsx)(ue,{}),Object(J.jsxs)("div",{className:Ce.a.box,children:[Object(J.jsx)("div",{className:Ce.a.filter,children:Object(J.jsx)(Ne,{applyFilters:n})}),Object(J.jsx)("div",{className:"row ".concat(Ce.a.products),children:a&&!r?a.map((function(t){return Object(J.jsx)("div",{className:"col-6 col-sm-4 col-md-4 col-lg-3 my-3 ",onClick:function(){return e.props.history.push("/product-overview/".concat(t._id))},children:Object(J.jsx)(he,{title:t.title,price:"$".concat(t.price," CAD"),image:t.image})},t.title)})):Object(J.jsx)("div",{children:r&&r.message})})]})]})}}]),a}(n.Component),Se=Object(b.b)((function(e){return{products:e.product.products,error:e.product.error}}),(function(e){return{getAllProducts:function(){return e(P())},applyFilters:function(t){return e(function(e){return function(t){return t({type:E}),f({method:"GET",url:"/api/products?".concat(e)}).then((function(e){return t({type:I,payload:e}),e})).catch((function(e){return t({type:w,payload:{error:e}}),e}))}}(t))}}}))(Te),Pe=a(3),Ee=a.n(Pe),Ie=function(){function e(t,a,r){Object(s.a)(this,e),this.assertion=t,this.rule=a,this.errMsg=r}return Object(i.a)(e,[{key:"check",value:function(e){return this.rule(e)}},{key:"errMsg",value:function(){return this.errMsg}}]),e}(),we=new Ie("input should have value",(function(e){return/\S/.test(e)}),"Required"),Fe=new Ie("input should be an email",(function(e){return!!e.match(/[\w-]+@([\w-]+\.)+[\w-]+/i)}),"invalid email"),Me=(new Ie("input should be an Number phone",(function(e){return!!e.match(/[0-9]]+/i)}),"invalid Number Phone"),function(e,t,a){var r=new RegExp("(?=.{".concat(e,",").concat(t,"})"),"g");return new Ie("input should within certain length",(function(e){return!!e.match(r)}),"".concat(a," has to be ").concat(e,"-").concat(t," letter"))}),Ge=new Ie("input should have an uppercase",(function(e){return!!e.match(/(?=.*[A-Z])/g)}),"at least one upper case"),Ue=new Ie("input should have lowercase",(function(e){return!!e.match(/(?=.*[a-z])/g)}),"at least one lower case"),Be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).handleBlur=function(e,t){console.log(r.INPUT_CONFIG);var a=e.target.name;r.inputText[a]=e.target.value,t.isValid?r.setState(Object(Oe.a)({},a,{errorMsg:""})):r.setState(Object(Oe.a)({},a,{errorMsg:t.errorMsg}))},r.handleFocus=function(e){var t=e.target.name;r.setState(Object(Oe.a)({},t,{errorMsg:""}))},r.validate=function(e,t){if(e){var a,r=Object(fe.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(!n.check(t))return{isValid:!1,errorMsg:n.errMsg}}}catch(c){r.e(c)}finally{r.f()}}return{isValid:!0}},r.handleClick=function(){var e=!0;console.log(r.INPUT_CONFIG);var t,a=Object(fe.a)(r.INPUT_CONFIG);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.validations){var c,o=Object(fe.a)(n.validations);try{for(o.s();!(c=o.n()).done;){var s=c.value,i=s.check(r.inputText[n.name]);if(e=e&&i,!i){r.setState(Object(Oe.a)({},n.name,{errorMsg:s.errMsg}));break}}}catch(j){o.e(j)}finally{o.f()}}}}catch(j){a.e(j)}finally{a.f()}if(e){var l=r.inputText,d=l.email,u=l.password;console.log(r.props.postToken),r.props.postToken(d,u,"users").then((function(e){return p("/dashboard"),e})).catch((function(e){return alert(r.props.login_error.error.message),e}))}else console.log("valid fail")},r.state={},r.inputText={},r.INPUT_CONFIG=[{name:"email",validations:[we,Fe]},{name:"password",validations:[we,Me(6,15),Ge,Ue]}];var n,c=Object(fe.a)(r.INPUT_CONFIG);try{for(c.s();!(n=c.n()).done;){var o=n.value;r.state[o.name]={errorMsg:""},r.inputText[o.name]=""}}catch(i){c.e(i)}finally{c.f()}return r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(J.jsx)("div",{className:(Ee.a.outbox,Ee.a.body_page),children:Object(J.jsx)("div",{className:Ee.a.box,children:Object(J.jsxs)("div",{className:Ee.a.outbox,children:[Object(J.jsx)("div",{className:Ee.a.logo,children:" Market place"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Login"}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{className:Ee.a.border_style}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Email",children:"Email"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"email",name:"email",placeholder:"Email",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[0].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.email&&this.state.email.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Password",children:"Password"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"password",name:"password",placeholder:"Password",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[1].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.password&&this.state.password.errorMsg})]}),Object(J.jsx)("div",{className:Ee.a.outStyle,children:Object(J.jsx)("input",{type:"submit",value:"Login",className:Ee.a.btnStyle,onClick:this.handleClick})}),Object(J.jsxs)("div",{className:Ee.a.footer,children:["Don't you have an account?",Object(J.jsx)("a",{href:"/register",children:"Register"})]})]})})})}}]),a}(n.Component),Le={postToken:y},Ae=Object(b.b)((function(e){return{user_token:e.token.user_token,login_loading:e.token.token_loading,login_error:e.token.error}}),Le)(Be),Re=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).handleBlur=function(e,t){var a=e.target.name;r.inputText[a]=e.target.value,t.isValid?r.setState(Object(Oe.a)({},a,{errorMsg:""})):r.setState(Object(Oe.a)({},a,{errorMsg:t.errorMsg}))},r.handleFocus=function(e){var t=e.target.name;r.setState(Object(Oe.a)({},t,{errorMsg:""}))},r.validate=function(e,t){if(e){var a,r=Object(fe.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(!n.check(t))return{isValid:!1,errorMsg:n.errMsg}}}catch(c){r.e(c)}finally{r.f()}}return{isValid:!0}},r.handleClick=function(){var e=!0;console.log(r.INPUT_CONFIG);var t,a=Object(fe.a)(r.INPUT_CONFIG);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.validations){var c,o=Object(fe.a)(n.validations);try{for(o.s();!(c=o.n()).done;){var s=c.value,i=s.check(r.inputText[n.name]);if(e=e&&i,!i){r.setState(Object(Oe.a)({},n.name,{errorMsg:s.errMsg}));break}}}catch(v){o.e(v)}finally{o.f()}}}}catch(v){a.e(v)}finally{a.f()}if(e){var l=r.inputText,d=l.firstName,u=l.lastName,j=l.email,b=l.password,h=l.verifyPassword,O=l.adress,_=l.city,m=l.numberPhone;l.choix;"client"!==r.inputText.choix&&void 0!==r.inputText.choix||r.props.signinClient(d,u,j,b,h).then((function(e){p("/login")})).catch((function(e){return alert(r.props.signin_error.error.message),console.log(r.props.signin_error),e})),"vendeur"===r.inputText.choix&&r.props.signinVendeur(d,u,j,b,h,O,_,m).then((function(e){p("/login")})).catch((function(e){return console.log(e),alert(e.response.data.error.message),e}))}else console.log("valid fail")},r.state={},r.inputText={},r.INPUT_CONFIG=[{name:"firstName",validations:[we,Me(3,15,"first Name")]},{name:"lastName",validations:[we,Me(3,15,"last Name")]},{name:"email",validations:[we,Fe]},{name:"password",validations:[we,Me(6,15,"password"),Ge,Ue]},{name:"verifyPassword",validations:[we,Me(6,15,"confirmer password"),Ge,Ue]}];var n,c=Object(fe.a)(r.INPUT_CONFIG);try{for(c.s();!(n=c.n()).done;){var o=n.value;r.state[o.name]={errorMsg:""},r.inputText[o.name]=""}}catch(i){c.e(i)}finally{c.f()}return r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(J.jsx)("div",{className:(Ee.a.outbox,Ee.a.body_page),children:Object(J.jsx)("div",{className:Ee.a.box,children:Object(J.jsxs)("div",{className:Ee.a.outbox,children:[Object(J.jsx)("div",{className:Ee.a.logo,children:" Market place"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Register"}),Object(J.jsxs)("div",{children:[Object(J.jsx)("input",{type:"button",onFocus:function(t){return e.handleFocus(t)},name:"choix",value:"client",onClick:function(t){e.inputText[t.target.name]=t.target.value,document.getElementById("vendeur").style.display="none"}}),Object(J.jsx)("input",{type:"button",name:"choix",value:"vendeur",onClick:function(t){e.inputText[t.target.name]=t.target.value,document.getElementById("vendeur").style.display="block"}})]}),Object(J.jsx)("div",{className:Ee.a.border_style}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"FirstName",children:"First Name"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"text",name:"firstName",placeholder:"First Name",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[0].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.firstName&&this.state.firstName.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"LastName",children:"Last Name"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"text",name:"lastName",placeholder:"Last Name",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[1].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.lastName&&this.state.lastName.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Email",children:"Email"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"email",name:"email",placeholder:"Email",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[2].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.email&&this.state.email.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Password",children:"Password"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"password",name:"password",placeholder:"Password",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[3].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.password&&this.state.password.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"verifyPassword",children:"confirmer Password"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"password",name:"verifyPassword",placeholder:"verify Password",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[4].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.verifyPassword&&this.state.verifyPassword.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,id:"vendeur",style:{display:"none"},children:[Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Adress",children:"Adress"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"text",name:"adress",placeholder:"Adress",onBlur:function(t){return e.inputText[t.target.name]=t.target.value}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:"optionel"})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"City",children:"City"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"text",name:"city",placeholder:"City",onBlur:function(t){return e.inputText[t.target.name]=t.target.value}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:"optionel"})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"NumberPhone",children:"Number Phone"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"phone",name:"numberPhone",placeholder:"Number Phone ",onBlur:function(t){return e.inputText[t.target.name]=t.target.value}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:"optionel"})]})]}),Object(J.jsx)("div",{className:Ee.a.outStyle,children:Object(J.jsx)("input",{type:"submit",value:"Register",className:Ee.a.btnStyle,onClick:this.handleClick})}),Object(J.jsxs)("div",{className:Ee.a.footer,children:[Object(J.jsxs)("p",{children:["Do you have an account?",Object(J.jsx)("a",{href:"/LoginTest",children:"Login"})]}),Object(J.jsxs)("p",{children:["Do you have an account seller ? ",Object(J.jsx)("a",{href:"/RegisterVendeur",children:"Login Vendeur"})]})]})]})})})}}]),a}(n.Component),De="POST_SIGNIN_BEGIN",Ye="POST_SIGNIN_SUCCESS",Ve="POST_SIGNIN_FAIL",We="POST_PASSWORD_BEGIN",Ke="POST_PASSWORD_SUCCESS",He="POST_PASSWORD_FAIL",Xe={signinClient:function(e,t,a,r,n){return function(c){return c({type:De}),f({method:"POST",url:"/api/users/register",data:{firstName:e,lastName:t,email:a,password:r,verifyPassword:n}}).then((function(e){return c({type:Ye,payload:e}),e})).catch((function(e){throw c({type:Ve,payload:{error:e}}),e}))}},signinVendeur:function(e,t,a,r,n,c,o,s){return function(i){return i({type:De}),f({method:"POST",url:"/api/vendeurs/register",data:{firstName:e,lastName:t,email:a,password:r,verifyPassword:n,adress:c,city:o,numberPhone:s}}).then((function(e){return i({type:Ye,payload:e}),e})).catch((function(e){throw i({type:Ve,payload:{error:e}}),e}))}}},Je=Object(b.b)((function(e){return{signin_loading:e.signin.signin_loading,signin_error:e.signin.error}}),Xe)(Re),$e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).handleBlur=function(e,t){console.log(r.INPUT_CONFIG);var a=e.target.name;r.inputText[a]=e.target.value,t.isValid?r.setState(Object(Oe.a)({},a,{errorMsg:""})):r.setState(Object(Oe.a)({},a,{errorMsg:t.errorMsg}))},r.handleFocus=function(e){var t=e.target.name;r.setState(Object(Oe.a)({},t,{errorMsg:""}))},r.validate=function(e,t){if(e){var a,r=Object(fe.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(!n.check(t))return{isValid:!1,errorMsg:n.errMsg}}}catch(c){r.e(c)}finally{r.f()}}return{isValid:!0}},r.handleClick=function(){var e=!0;console.log(r.INPUT_CONFIG);var t,a=Object(fe.a)(r.INPUT_CONFIG);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.validations){var c,o=Object(fe.a)(n.validations);try{for(o.s();!(c=o.n()).done;){var s=c.value,i=s.check(r.inputText[n.name]);if(e=e&&i,!i){r.setState(Object(Oe.a)({},n.name,{errorMsg:s.errMsg}));break}}}catch(j){o.e(j)}finally{o.f()}}}}catch(j){a.e(j)}finally{a.f()}if(e){var l=r.inputText,d=l.email,u=l.password;console.log(r.props.postToken),r.props.postToken(d,u,"vendeurs").then((function(e){return p("/dashboard"),e})).catch((function(e){return alert(r.props.login_error.error.message),e}))}else console.log("valid fail")},r.state={},r.inputText={},r.INPUT_CONFIG=[{name:"email",validations:[we,Fe]},{name:"password",validations:[we,Me(6,15),Ge,Ue]}];var n,c=Object(fe.a)(r.INPUT_CONFIG);try{for(c.s();!(n=c.n()).done;){var o=n.value;r.state[o.name]={errorMsg:""},r.inputText[o.name]=""}}catch(i){c.e(i)}finally{c.f()}return r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(J.jsx)("div",{className:(Ee.a.outbox,Ee.a.body_page),children:Object(J.jsx)("div",{className:Ee.a.box,children:Object(J.jsxs)("div",{className:Ee.a.outbox,children:[Object(J.jsx)("div",{className:Ee.a.logo,children:" Market place"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Vendeur"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Login"}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{className:Ee.a.border_style}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Email",children:"Email"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"email",name:"email",placeholder:"Email",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[0].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.email&&this.state.email.errorMsg})]}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Password",children:"Password"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"password",name:"password",placeholder:"Password",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[1].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.password&&this.state.password.errorMsg})]}),Object(J.jsx)("div",{className:Ee.a.outStyle,children:Object(J.jsx)("input",{type:"submit",value:"Login",className:Ee.a.btnStyle,onClick:this.handleClick})}),Object(J.jsxs)("div",{className:Ee.a.footer,children:["Don't you have an account?",Object(J.jsx)("a",{href:"/register",children:"Register"})]})]})})})}}]),a}(n.Component),qe={postToken:y},ze=Object(b.b)((function(e){return{user_token:e.token.user_token,login_loading:e.token.token_loading,login_error:e.token.error}}),qe)($e),Qe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).handleBlur=function(e,t){console.log(r.INPUT_CONFIG);var a=e.target.name;r.inputText[a]=e.target.value,t.isValid?r.setState(Object(Oe.a)({},a,{errorMsg:""})):r.setState(Object(Oe.a)({},a,{errorMsg:t.errorMsg}))},r.handleFocus=function(e){var t=e.target.name;r.setState(Object(Oe.a)({},t,{errorMsg:""}))},r.validate=function(e,t){if(e){var a,r=Object(fe.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;if(!n.check(t))return{isValid:!1,errorMsg:n.errMsg}}}catch(c){r.e(c)}finally{r.f()}}return{isValid:!0}},r.handleClick=function(){var e,t=!0,a=Object(fe.a)(r.INPUT_CONFIG);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.validations){var c,o=Object(fe.a)(n.validations);try{for(o.s();!(c=o.n()).done;){var s=c.value,i=s.check(r.inputText[n.name]);if(t=t&&i,!i){r.setState(Object(Oe.a)({},n.name,{errorMsg:s.errMsg}));break}}}catch(u){o.e(u)}finally{o.f()}}}}catch(u){a.e(u)}finally{a.f()}if(t){var l=r.inputText.password;console.log("this.props.params");var d=r.props.match.params.token;console.log(d),r.props.verifyPassword(d,l).then((function(e){return console.log("res"),console.log(e),e})).catch((function(e){return alert(r.props.verify_error.error.message),e}))}else console.log("valid fail")},r.state={},r.inputText={},r.INPUT_CONFIG=[{name:"password",validations:[we,Me(6,15),Ge,Ue]}];var n,c=Object(fe.a)(r.INPUT_CONFIG);try{for(c.s();!(n=c.n()).done;){var o=n.value;r.state[o.name]={errorMsg:""},r.inputText[o.name]=""}}catch(i){c.e(i)}finally{c.f()}return r}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(J.jsx)("div",{className:(Ee.a.outbox,Ee.a.body_page),children:Object(J.jsx)("div",{className:Ee.a.box,children:Object(J.jsxs)("div",{className:Ee.a.outbox,children:[Object(J.jsx)("div",{className:Ee.a.logo,children:" Market place"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Vendeur"}),Object(J.jsx)("div",{className:Ee.a.title_style,children:"Change Password"}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{className:Ee.a.border_style}),Object(J.jsxs)("div",{className:Ee.a.outboxForm,children:[Object(J.jsx)("div",{className:Ee.a.label,children:Object(J.jsx)("label",{htmlFor:"Password",children:"Password"})}),Object(J.jsx)("div",{className:Ee.a.input,children:Object(J.jsx)("input",{type:"password",name:"password",placeholder:"Password",onBlur:function(t){return e.handleBlur(t,e.validate(e.INPUT_CONFIG[0].validations,t.target.value))},onFocus:function(t){return e.handleFocus(t)}})}),Object(J.jsx)("div",{className:Ee.a.errMsg,children:this.state.password&&this.state.password.errorMsg})]}),Object(J.jsx)("div",{className:Ee.a.outStyle,children:Object(J.jsx)("input",{type:"submit",value:"Save",className:Ee.a.btnStyle,onClick:this.handleClick})})]})})})}}]),a}(n.Component),Ze={verifyPassword:function(e,t){return function(a){return a({type:We}),f({method:"POST",url:"/api/vendeurs/verify/".concat(e),data:{password:t}}).then((function(e){return a({type:Ke,payload:e}),e})).catch((function(e){throw a({type:He,payload:{err:e}}),e}))}}},et=Object(b.b)((function(e){return{verify_error:e.verify.error}}),Ze)(Qe),tt=a(25),at=a.n(tt),rt=a(73),nt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).addToBag=function(){r.props.postCart(r.props.location.pathname.split("/").slice(-1)[0]).then((function(e){p("/bag")}))},r.state={},r}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProduct(this.props.location.pathname.split("/").slice(-1)[0])}},{key:"render",value:function(){return Object(J.jsxs)("div",{className:at.a.outbox,children:[Object(J.jsx)(ue,{}),this.props.product&&Object(J.jsx)("div",{className:at.a.content_box,children:Object(J.jsxs)("div",{className:at.a.content,children:[Object(J.jsx)("div",{className:at.a.image,children:Object(J.jsx)("img",{src:this.props.product.image,alt:""})}),Object(J.jsx)("div",{className:at.a.context_outbox,children:Object(J.jsxs)("div",{className:at.a.context,children:[Object(J.jsx)("div",{className:at.a.title,children:this.props.product.title}),Object(J.jsx)("div",{className:at.a.description,children:this.props.product.description}),Object(J.jsxs)("div",{className:at.a.price,children:["$",this.props.product.price," CAD"]}),Object(J.jsx)("div",{className:at.a.btns,children:Object(J.jsx)(rt.a,{className:at.a.btn,onClick:this.addToBag,variant:"outline-primary",children:"Add to Bag"})})]})})]})})]})}}]),a}(n.Component),ct={getProduct:function(e){return function(t){return t({type:U}),f({method:"GET",url:"/api/product/".concat(e)}).then((function(e){return t({type:B,payload:e}),e})).catch((function(e){return t({type:L,payload:{error:e}}),e}))}},postCart:ne},ot=Object(b.b)((function(e){return{product:e.product.product}}),ct)(nt),st=a(30),it=a.n(st),lt=a(113),dt=a(26),ut=a.n(dt);function jt(e){var t=e.items,a=e.handleClick;return Object(J.jsx)("div",{className:ut.a.outbox,children:Object(J.jsxs)(lt.a,{striped:!0,bordered:!0,hover:!0,children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"Photos"}),Object(J.jsx)("th",{children:"Title"}),Object(J.jsx)("th",{children:"Qty"}),Object(J.jsx)("th",{children:"Price"})]})}),Object(J.jsx)("tbody",{className:ut.a.table_body,children:Object.keys(t).map((function(e){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)("div",{className:ut.a.pic_outbox,children:Object(J.jsx)("img",{src:t[e].produit.image,alt:""})})}),Object(J.jsx)("td",{children:Object(J.jsxs)("div",{className:ut.a.title_outbox,children:[Object(J.jsx)("div",{className:ut.a.title,children:t[e].produit.title}),Object(J.jsx)("div",{className:ut.a.id_title,children:"id:"}),Object(J.jsx)("div",{className:ut.a.id,children:t[e].produit._id})]})}),Object(J.jsx)("td",{children:Object(J.jsxs)("div",{className:ut.a.qty_outbox,children:[Object(J.jsx)(rt.a,{variant:"outline-secondary",className:ut.a.btn,onClick:function(){return a(e,!0,!1)},children:"+"}),t[e].qty,Object(J.jsx)(rt.a,{variant:"outline-secondary",className:ut.a.btn,onClick:function(){return a(e,!1,!0)},children:"-"})]})}),Object(J.jsx)("td",{children:t[e].price})]},e)}))})]})})}var bt=Object(b.b)((function(e){return{cart:e.cart.cart}}),(function(e){return{getCartByUserId:e(re()),postCart:function(t,a,r){return e(ne(t,a,r))}}}))((function(e){Object(n.useEffect)((function(){void 0===e.cart&&e.getCartByUserId()}),[]);var t=e.cart,a=t.totalPrice,r=t.items,c=e.postCart;return Object(J.jsxs)("div",{className:it.a.outbox,children:[Object(J.jsx)(ue,{}),Object(J.jsx)("div",{className:it.a.box,children:Object(J.jsxs)("div",{className:it.a.content,children:[Object(J.jsx)("div",{className:it.a.title.concat(" my-2"),children:"Shopping Bag"}),Object(J.jsx)("div",{className:it.a.table,children:Object(J.jsx)(jt,{items:r||{},handleClick:function(e,t,a){return c(e,t,a)}})}),Object(J.jsxs)("div",{className:it.a.process_box,children:[Object(J.jsxs)("div",{className:it.a.total,children:["Total: $",a]}),Object(J.jsx)("div",{className:"my-3",children:Object(J.jsx)(rt.a,{onClick:function(){return p("/checkout")},children:"Checkout"})})]})]})})]})})),ht=a(27),pt=a.n(ht),Ot=a(36),_t=a.n(Ot);function mt(e){var t=e.items;return Object(J.jsx)("div",{className:_t.a.outbox,children:Object.keys(t).map((function(e){return Object(J.jsxs)("div",{className:_t.a.row,children:[Object(J.jsx)("div",{className:_t.a.pic,children:Object(J.jsx)("img",{src:t[e].produit.image,alt:""})}),Object(J.jsx)("div",{className:_t.a.title,children:t[e].produit.title}),Object(J.jsxs)("div",{className:_t.a.price,children:["$",t[e].produit.price," X ",t[e].qty]})]},e)}))})}var vt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Object.keys(this.props.cart).length<1?this.props.getCartByUserId():this.props.getCheckoutUrl(this.props.cart._id)}},{key:"componentDidUpdate",value:function(){!this.props.url&&Object.keys(this.props.cart).length>1&&this.props.getCheckoutUrl(this.props.cart._id)}},{key:"render",value:function(){return console.log("url "),console.log(this.props.url),Object(J.jsxs)("div",{className:pt.a.outbox,children:[Object(J.jsx)(ue,{}),Object(J.jsx)("div",{className:pt.a.box,children:Object(J.jsxs)("div",{className:pt.a.content,children:[Object(J.jsxs)("div",{className:pt.a.title,children:["Checkout",Object(J.jsxs)("div",{className:pt.a.sub_title,children:["Hi ",Object(J.jsx)("b",{children:this.props.name})," Please review your items and press the confirm checkout button. You will enter your address information while your paying on PayPal"]})]}),Object.keys(this.props.cart).length>0&&Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:pt.a.table,children:Object(J.jsx)(mt,{items:this.props.cart.items})}),Object(J.jsx)("div",{className:pt.a.prices,children:Object(J.jsxs)("div",{className:pt.a.row+" "+pt.a.total,children:[Object(J.jsx)("div",{children:"Total"}),Object(J.jsx)("div",{children:this.props.cart.totalPrice})]})})]}),Object(J.jsx)("div",{className:pt.a.btn,children:Object(J.jsx)("button",{children:Object(J.jsx)("a",{href:this.props.url,children:"confirm checkout"})})})]})})]})}}]),a}(n.Component),xt=function(e,t){return function(a){return a({type:gt}),m()({method:"POST",url:"https://api.sandbox.paypal.com/v1/oauth2/token",headers:{"content-type":"application/x-www-form-urlencoded"},auth:{username:"AWL2jx41LoLFwsYZ6QXJR2bXweZsmC2WU23_5vKP0Lm-IeuVEUPjX4KiFsfsopkLemG_o0jmr9Fhymgy",password:"EPcbm-8yN4aP00UciTLOM4R_FBKqqcwR7OYq-vdkpDfaszOCbiUmwK6-akj57R4yTMQzKctElbPbLpC-"},data:x.a.stringify({grant_type:"client_credentials"})}).then((function(r){return f({method:"GET",url:"/api/payment/success?paymentId=".concat(e,"&PayerID=").concat(t),headers:{Authorization:"Bearer ".concat(r.data.access_token)}}).then((function(e){return a({type:ft,payload:e}),e})).catch((function(e){return a({type:yt,payload:{error:e}}),e}))})).catch((function(e){return a({type:yt,payload:{error:e}}),e}))}},gt="GET_PAYMENT_BEGIN",ft="GET_PAYMENT_SUCCESS",yt="GET_PAYMENT_FAIL",Nt="GET_CHECKOUT_BEGIN",kt="GET_CHECKOUT_SUCCESS",Ct="GET_CHECKOUT_FAIL",Tt=Object(b.b)((function(e){return{cart:e.cart.cart,url:e.checkout.approval_url,name:e.token.user_token.user_name}}),(function(e){return{getCheckoutUrl:function(t){return e(function(e){return function(t){return t({type:Nt}),f({method:"GET",url:"/api/checkout/".concat(e)}).then((function(e){return t({type:kt,payload:e}),e})).catch((function(e){return t({type:Ct,payload:{error:e}}),e}))}}(t))},getCartByUserId:function(){return e(re())}}}))(vt),St=function(e){var t,a=new Map,r=e.replace("?","").split("&"),n=Object(fe.a)(r);try{for(n.s();!(t=n.n()).done;){var c=t.value.split("=");a.set(c[0],c[1])}}catch(o){n.e(o)}finally{n.f()}return a},Pt=a.p+"static/media/checkmark.d3bdc1ac.svg",Et=a(20),It=a.n(Et),wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.search;console.log("UrlQuery "+{UrlQuery:e});var t=St(e);t.has("paymentId")&&t.has("PayerID")&&this.props.getPayment(t.get("paymentId"),t.get("PayerID")),console.log("this.props.cart"),console.log(this.props.cart)}},{key:"render",value:function(){var e=this.props.payment;return Object(J.jsxs)("div",{className:It.a.outbox,children:[Object(J.jsx)(ue,{}),e&&Object(J.jsxs)("div",{className:It.a.box,children:[Object(J.jsxs)("div",{className:It.a.checkMark,children:[Object(J.jsx)("div",{className:It.a.pic,children:Object(J.jsx)("img",{src:Pt,alt:""})}),Object(J.jsx)("div",{className:It.a.text,children:"Thank you for your pruchase!"})]}),Object(J.jsxs)("div",{className:It.a.content,children:[Object(J.jsxs)("div",{className:It.a.info,children:[Object(J.jsxs)("div",{className:It.a.order,children:[Object(J.jsx)("div",{className:It.a.title,children:"Your order number is: "}),Object(J.jsx)("div",{className:It.a.num,children:e.cart})]}),Object(J.jsxs)("div",{className:It.a.address,children:[Object(J.jsx)("div",{className:It.a.title,children:"Shipping information:"}),Object.keys(e.payer.payer_info.shipping_address).map((function(t){return Object(J.jsxs)("div",{children:[t,": ",e.payer.payer_info.shipping_address[t]]},t)}))]})]}),Object(J.jsx)("div",{className:It.a.btn,children:Object(J.jsx)("button",{onClick:function(){return p("/dashboard")},children:" Continue Shopping"})})]})]})]})}}]),a}(n.Component),Ft=Object(b.b)((function(e){return{payment:e.checkout.payment}}),(function(e){return{getPayment:function(t,a){return e(xt(t,a))}}}))(wt);function Mt(){return Object(J.jsx)(j.a,{to:"/checkout"})}var Gt=function(e){var t=e.commandes;return console.log("commandes "),console.log({commandes:t}),Object(J.jsx)("div",{children:Object(J.jsxs)(lt.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"Id Commande"}),Object(J.jsx)("th",{children:"Date de commande"}),Object(J.jsx)("th",{children:"Quantity commande"}),Object(J.jsx)("th",{children:"Total commande"}),Object(J.jsx)("th",{children:"details commande"})]})}),Object(J.jsxs)("tbody",{children:[t,Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:"1"}),Object(J.jsx)("td",{children:"Mark"}),Object(J.jsx)("td",{children:"Otto"}),Object(J.jsx)("td",{children:"@mdo"})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:"2"}),Object(J.jsx)("td",{children:"Jacob"}),Object(J.jsx)("td",{children:"Thornton"}),Object(J.jsx)("td",{children:"@fat"})]}),Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:"3"}),Object(J.jsx)("td",{colSpan:"2",children:"Larry the Bird"}),Object(J.jsx)("td",{children:"@twitter"})]})]})]})})},Ut=a(37),Bt=a.n(Ut);var Lt=function(e){var t=e.commandes;return e.getCommandeByUser,Object(J.jsxs)("div",{className:Bt.a.outbox,children:[Object(J.jsx)(ue,{commandes:t}),Object(J.jsx)("div",{className:Bt.a.box,children:Object(J.jsxs)("div",{className:Bt.a.content,children:[Object(J.jsx)("div",{className:Bt.a.title.concat(" my-3"),children:"List Commandes"}),Object(J.jsx)("div",{className:Bt.a.table,children:Object(J.jsx)(Gt,{commandes:t})})]})})]})},At=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.insertToken()}},{key:"render",value:function(){return Object(J.jsx)("div",{children:Object(J.jsx)(u.a,{ref:h,children:Object(J.jsxs)(j.d,{children:[Object(J.jsx)(j.b,{path:"/login",component:Ae}),Object(J.jsx)(j.b,{path:"/Register",component:Je}),Object(J.jsx)(j.b,{path:"/RegisterVendeur",component:ze}),Object(J.jsx)(j.b,{path:"/verify/:token",component:et}),Object(J.jsx)(j.b,{path:"/product-overview",component:ot},"productOverview"),this.props.token&&[Object(J.jsx)(j.b,{path:"/dashboard",component:Se},"dashboard"),Object(J.jsx)(j.b,{path:"/bag",component:bt},"ShoppingBagContainer"),Object(J.jsx)(j.b,{path:"/checkout",component:Tt},"Checkout"),Object(J.jsx)(j.b,{path:"/success_page",component:Ft},"success"),Object(J.jsx)(j.b,{path:"/cancel_page",component:Mt},"cancel"),Object(J.jsx)(j.b,{path:"/profile",component:Lt},"profile")],Object(J.jsx)(j.b,{exact:!0,path:"/",component:Se}),Object(J.jsx)(j.a,{to:"/login"})]})})})}}]),a}(n.Component),Rt={insertToken:function(){return function(e){var t;localStorage.getItem("auth")?(t=JSON.parse(localStorage.getItem("auth")),e({type:T,payload:t})):e({type:S})}}},Dt=Object(b.b)((function(e){return{token:e.token.user_token}}),Rt)(At);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Yt=a(29),Vt=a(5),Wt={signin_loading:!1,error:{}},Kt={user_token:{},token_loading:!1,error:{},insert_token_error:!1},Ht={products:null,product:null,loading:!1,error:null},Xt={loading:!1,categorys:null,error:null},Jt={verify_loading:!1,error:{}},$t={cart:{},loading:!1,error:{}},qt={loading:!1,approval_url:null,payment:null,error:null},zt="GET_COMMANDES_BEGIN",Qt="GET_COMMANDES_SUCCESS",Zt="GET_COMMMANDES_FAIL",ea="GET_COMMANDEBYUSER_BEGIN",ta="GET_COMMANDEBYUSER_SUCCESS",aa="GET_COMMANDEBYUSER_FAIL",ra={loading:!1,commandes:null,error:null},na=Object(Yt.c)({token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(Vt.a)(Object(Vt.a)({},e),{},{token_loading:!0,error:{}});case k:return Object(Vt.a)(Object(Vt.a)({},e),{},{user_token:t.payload.data.user_token,token_loading:!1});case C:return Object(Vt.a)(Object(Vt.a)({},e),{},{token_loading:!1,error:t.payload.error.response.data});case T:return Object(Vt.a)(Object(Vt.a)({},e),{},{user_token:t.payload,insert_token_error:!1});case S:return Object(Vt.a)(Object(Vt.a)({},e),{},{insert_token_error:!0});default:return e}},signin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return Object(Vt.a)(Object(Vt.a)({},e),{},{signin_loading:!0});case Ye:return Object(Vt.a)(Object(Vt.a)({},e),{},{signin_loading:!1});case Ve:return Object(Vt.a)(Object(Vt.a)({},e),{},{signin_loading:!1,error:t.payload.error.response.data});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case M:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,products:t.payload.data.products});case G:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});case U:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case B:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,product:t.payload.data.product});case L:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});case A:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case R:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,products:t.payload.data.products});case D:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});case E:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case I:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,products:t.payload.data.products});case w:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{loading:!0,error:null};case te:return{loading:!1,categorys:t.payload.data.categories};case ae:return{loading:!1,error:t.payload.error.response.data};default:return e}},verify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return Object(Vt.a)(Object(Vt.a)({},e),{},{verify_loading:!0});case Ke:return Object(Vt.a)(Object(Vt.a)({},e),{},{verify_loading:!1});case He:return Object(Vt.a)(Object(Vt.a)({},e),{},{verify_loading:!1,error:t.payload.err.response.data});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:{}});case oe:return Object(Vt.a)(Object(Vt.a)({},e),{},{cart:t.payload.data.cart,loading:!1});case se:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});case ie:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:{}});case le:return Object(Vt.a)(Object(Vt.a)({},e),{},{cart:t.payload.data.cart,loading:!1});case de:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!1,error:t.payload.error.response.data});default:return e}},checkout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case kt:return{loading:!1,approval_url:t.payload.data};case Ct:return{loading:!1,error:t.payload.error.response.data};case gt:return Object(Vt.a)(Object(Vt.a)({},e),{},{loading:!0,error:null});case ft:return{loading:!1,payment:t.payload.data.payment};case yt:return{loading:!1,error:t.payload.error.response.data};default:return e}},commandes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return{loading:!0,error:null};case Qt:return{loading:!1,commandes:t.payload.data.commandes};case Zt:return{loading:!1,error:t.payload.error.response.data};case ea:return{loading:!0,error:null};case ta:return{loading:!1,commandes:t.payload.data.commandes};case aa:return{loading:!1,error:t.payload.error.response.data};default:return e}}}),ca=[a(74).a],oa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Yt.d,sa=Object(Yt.e)(na,{},oa(Yt.a.apply(void 0,ca)));o.a.render(Object(J.jsx)(b.a,{store:sa,children:Object(J.jsx)(Dt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},19:function(e,t,a){e.exports={outbox:"filter_outbox__3t_Jt",box:"filter_box__1eyfm",title:"filter_title__1xbXG",title_border:"filter_title_border__1WcEh",tags:"filter_tags__2W3qB",tag:"filter_tag__3fxv8",tag_content:"filter_tag_content__1OmjE",tag_close:"filter_tag_close__zPpgB",content:"filter_content__2XH5m",block:"filter_block__1vLeC"}},20:function(e,t,a){e.exports={outbox:"checkoutSuccess_outbox__GUu36",box:"checkoutSuccess_box__3jTVh",checkMark:"checkoutSuccess_checkMark__ECLta",pic:"checkoutSuccess_pic__1yBf0",text:"checkoutSuccess_text__1spT2",content:"checkoutSuccess_content__2PoBV",order:"checkoutSuccess_order__2PHhb",num:"checkoutSuccess_num__2v6Wb",title:"checkoutSuccess_title__7gP1G",btn:"checkoutSuccess_btn__PoKya"}},25:function(e,t,a){e.exports={outbox:"productOverview_outbox__1_WVw",content_box:"productOverview_content_box__1TSHS",content:"productOverview_content__28tDz",image:"productOverview_image__2jQAY",context_outbox:"productOverview_context_outbox__2PglN",context:"productOverview_context__1X_rt",title:"productOverview_title__1Svo-",description:"productOverview_description__21UgX",price:"productOverview_price__o4oOu",border:"productOverview_border__14WY9",btns:"productOverview_btns__3R6Bv"}},26:function(e,t,a){e.exports={outbox:"table_outbox__3kfyU",id:"table_id__3UC7l",pic_outbox:"table_pic_outbox__zzo70",title_outbox:"table_title_outbox__2YBfB",title:"table_title__1gspR",qty_outbox:"table_qty_outbox__3g_rd",btn:"table_btn__2xM6L"}},27:function(e,t,a){e.exports={outbox:"checkout_outbox__PyWuB",box:"checkout_box__1h-C6",content:"checkout_content__37WHN",title:"checkout_title__33h4b",sub_title:"checkout_sub_title__20Yon",table:"checkout_table__2JDFp",prices:"checkout_prices__1EHG-",btn:"checkout_btn__17biV",row:"checkout_row__1ZBhY",total:"checkout_total__2Os2c"}},3:function(e,t,a){e.exports={outbox:"Login_outbox__y_jKK",logo:"Login_logo__w1Rz-",title_style:"Login_title_style__1MU3E",border_style:"Login_border_style__3RCXa",outboxForm:"Login_outboxForm__2nTpR",label:"Login_label__2otN5",input:"Login_input__3SXxI",errMsg:"Login_errMsg__3x2w4",body_page:"Login_body_page__2OYSE",outStyle:"Login_outStyle__hMNRk",btnStyle:"Login_btnStyle__1qmNy",footer:"Login_footer__2lWWE",box:"Login_box__24Pby"}},30:function(e,t,a){e.exports={outbox:"shoppingBag_outbox__2XURW",box:"shoppingBag_box__VxIkU",content:"shoppingBag_content__1BJ2w",title:"shoppingBag_title__1yMcC",table:"shoppingBag_table__1RZYg",process_box:"shoppingBag_process_box__3li7N",total:"shoppingBag_total__X5HMJ"}},31:function(e,t,a){e.exports={outbox:"header_outbox__2dw7L",content:"header_content__2-JYB",left:"header_left__3AaFP",logo:"header_logo__1poF-",mid:"header_mid__1WRie",right:"header_right__1ejcm"}},34:function(e,t,a){e.exports={outbox:"userHeader_outbox__2diFk",tag:"userHeader_tag__2BDjK",loggout:"userHeader_loggout__wPtEE",login:"userHeader_login__1y2P3"}},36:function(e,t,a){e.exports={outbox:"table_outbox__3HJAi",row:"table_row__1eBTx",pic:"table_pic__3T28w",title:"table_title__3_1-8",price:"table_price__10xRM"}},37:function(e,t,a){e.exports={outbox:"Profile_outbox__31gGM",box:"Profile_box__3T-SL",content:"Profile_content__3dj8C",title:"Profile_title__ECwl4",table:"Profile_table__1E1xT",process_box:"Profile_process_box__3e3R5",total:"Profile_total__W5dpG"}},41:function(e,t,a){e.exports={outbox:"menu_outbox__27cAN",lists:"menu_lists__30sbe",tag:"menu_tag__27vkP"}},42:function(e,t,a){e.exports={outbox:"dashboard_outbox__EuVBk",box:"dashboard_box__CT-Ls",filter:"dashboard_filter__1-Qtf",products:"dashboard_products__3EO3O",product:"dashboard_product__2EJ6X"}},54:function(e,t,a){e.exports={outbox:"checkbox_outbox__3p5Ke",checkbox:"checkbox_checkbox__3NEyV",check:"checkbox_check__3hL4L"}},80:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.4acb204c.chunk.js.map